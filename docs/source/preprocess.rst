Preprocess
**********

Предобработка изображений
-------------------------

Описанные инструменты разработаны для обработки SEM снимков.


Для явного выделения границ фаз WC/Co используется последовательное применение следующиих алгоритом

1) выбирается сторона снимка. По умолчанию использвуется снимок в отраженных электронах

2) изображение сглаживается медианным фильтром для подавления шумов и выравнивания цветового распределения пикселей

3) слаженное изображение бинаризуется при помощи метода Отсу

4) от бинаризованного изображения берется градиент. Он явно показывает переходы вас WC/Co

5) бинаризованное изобржение инвертируется и к нему добавляется карта градиентов, полученная в п.4

Полная обработка изображения выглядит следующим образом:

        preproc_image=1-Otsu(median_filter(image))+grad(Otsu(median_filter(image)))

Значения пикселей по классам:

* 0 - зерно WC

* 127 - регион Co

* 254 - граница региона Co, смежного с зернами WC. Толщина границы - 1 пиксель

Обработка одного снимка

        img=io.imread(img_path)
        img=grainPreprocess.image_preprocess(img,h,k)

Обработка всего датасета снимков

        all_images=grainPreprocess.read_preprocess_data(images_folder_path, images_num_per_class=150,  preprocess=True, save=True)
		

Расположение снимков
--------------------

Расположение исходных снимков и предобработанных снимков должно выглядеть следующим образом


project

│

└───images_folder
   │
   
   └───class1_images
   
   │       image1
   
   │       image2
   
   │       ...
   
   └───class2_images
   
   │       image1
   
   │       image2
   
   │       ...
   
   └───class3_images
   
   │       image1
   
   │       image2
   
   │       ...





